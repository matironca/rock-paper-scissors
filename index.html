<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        /*PSEUDOCODE*/
        /*CREATE FUNCTION CALLED getComputerChoice that randomly returns `Rock`, `Paper`, or `Scissors`*/
        function getComputerChoice() {
            randomChoice = Math.random() * 3;
            roundedChoice = Math.floor(randomChoice)
            if(roundedChoice == 0){
             return `Rock`
            }
            else if (roundedChoice == 1){
                return `Paper`
            }
            else if (roundedChoice == 2){
                return `Scissors`
            }
            return `Error`;
        }
        /*WRITE A FUNCTION WITH TWO PARAMETERS playerSelection and computerSelection THAT RETURNS WHO WAS THE WINNER AND WHY*/
        
        const tie = `Tie`;
      
        let computerSelection = getComputerChoice();
        function playRound(playerSelection, computerSelection) {
         
        /*playerSelection SHOULD BE CASE-INSENSITIVE*/
            mayusPlayerSelection = playerSelection.toUpperCase();
            const playerWin = `Player wins, ${mayusPlayerSelection} beats ${computerSelection.toUpperCase()}`
            const playerLose = `Player loses, ${computerSelection.toUpperCase()} beats ${mayusPlayerSelection}`
            /*PLAYER WINS*/
            if (mayusPlayerSelection == `ROCK` && computerSelection == `Scissors` ||
              mayusPlayerSelection == `PAPER` && computerSelection == `Rock` ||
              mayusPlayerSelection == `SCISSORS` && computerSelection == `Paper`){
                return playerWin
            }
            /*PLAYER LOSES*/
            else if (mayusPlayerSelection == `SCISSORS` && computerSelection == `Rock` ||
              mayusPlayerSelection == `ROCK` && computerSelection == `Paper` ||
              mayusPlayerSelection == `PAPER` && computerSelection == `Scissors`){
                return playerLose
            }
            /*IF TIE REPLAY THE ROUND*/
            else if (mayusPlayerSelection === computerSelection.toUpperCase()){
                return tie;
            }
            else{
                return `Error`
            }
            

        }
        /*CREATE NEW FUNCTION CALLED GAME THAT KEEPS SCORE AND RETURNS WHO WON A BEST OF 5*/
            let computerPoints = 0;
            let playerPoints = 0;
        function game(){

        /*KEEP SCORE*/
            /*RECALL computerSelection*/
            computerSelection = getComputerChoice();
           /*CALL playRound FOR result // MAKE playerSelection A PROMPT*/
            let result = playRound(prompt(`Choose Rock, Paper or Scissors`) , computerSelection);
           /*MAKE AN IF STATEMENT TO END THE GAME AFTER playerPoints PLUS computerPoints IS 5 AND SAY WHO WON*/
           if (playerPoints - computerPoints === 3 
                || computerPoints - playerPoints === 3 
                || playerPoints + computerPoints === 5) {
                let gameWinner;
                let winnerPoints;
                if(playerPoints > computerPoints){
                    winnerPoints = playerPoints;
                    gameWinner = `Player`;
                    gameLoser = `Computer`
                }
                else {
                    gameWinner = `Computer`
                   winnerPoints = computerPoints;
                    gameLoser = `Player`
                }
                return `${gameWinner} wins! Beats the hell out of ${gameLoser} ${winnerPoints} to ${5 - winnerPoints}`
           }
           /*PLAYER WINS*/
            else if (mayusPlayerSelection == `ROCK` && computerSelection == `Scissors` ||
              mayusPlayerSelection == `PAPER` && computerSelection == `Rock` ||
              mayusPlayerSelection == `SCISSORS` && computerSelection == `Paper`){
                 playerPoints = playerPoints + 1;
            }
            /*PLAYER LOSES*/
            else if (mayusPlayerSelection == `SCISSORS` && computerSelection == `Rock` ||
              mayusPlayerSelection == `ROCK` && computerSelection == `Paper` ||
              mayusPlayerSelection == `PAPER` && computerSelection == `Scissors`) {
                computerPoints = computerPoints + 1 ; 
            }
            /*TIE*/
            else {
                return console.log(`It was a tie. Player points are ${playerPoints} and computer points are ${computerPoints} `);
            }
            return console.log(`Player points are ${playerPoints} and computer points are ${computerPoints}`)
        }
    </script>
</body>
</html>